function bricksWooRefreshCartFragments(){if("undefined"!=typeof woocommerce_params){var e=woocommerce_params.wc_ajax_url;e=e.replace("%%endpoint%%","get_refreshed_fragments"),jQuery.post(e,(function(e,t){e.fragments&&jQuery.each(e.fragments,(function(e,t){var r=jQuery(e);r&&r.replaceWith(t)})),jQuery("body").trigger("wc_fragments_refreshed")}))}}function bricksWooMiniCartHideDetailsClickOutside(){var e=bricksQuerySelectorAll(document,".cart-detail");e&&e.forEach((function(e){document.addEventListener("click",(function(t){if(!t.target.closest(".mini-cart-link")&&e.classList.contains("active")&&!t.target.closest(".cart-detail")){e.classList.remove("active");var r=e.closest(".brxe-woocommerce-mini-cart");r&&r.classList.toggle("show-cart-details")}}))}))}function bricksWooMiniModalsToggle(e){e.preventDefault();var t=e.currentTarget.getAttribute("data-toggle-target");if(t){document.querySelectorAll(".bricks-woo-toggle").forEach((function(e){var r=e.getAttribute("data-toggle-target");if(r!==t){var o=e.querySelector(r);if(null!==o&&o.classList.contains("active")){o.classList.remove("active");var i=e.closest(".brxe-woocommerce-mini-cart");i&&i.classList.remove("show-cart-details")}}}));var r=document.querySelector(t);if(null!==r){r.classList.toggle("active");var o=r.closest(".brxe-woocommerce-mini-cart");o&&o.classList.toggle("show-cart-details")}}}function bricksWooProductGallery(){bricksIsFrontend||void 0===jQuery(this).wc_product_gallery||jQuery(".woocommerce-product-gallery").each((function(){jQuery(this).trigger("wc-product-gallery-before-init",[this,window.wc_single_product_params]),jQuery(this).wc_product_gallery(window.wc_single_product_params),jQuery(this).trigger("wc-product-gallery-after-init",[this,window.wc_single_product_params])}))}function bricksWooQuantityTriggers(){bricksQuerySelectorAll(document,"form .quantity .action").forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault();var t=e.target.closest(".quantity").querySelector(".qty");if(t){var r=document.querySelector('button[name="update_cart"]');r&&(r.removeAttribute("disabled"),r.setAttribute("aria-disabled","false")),e.target.classList.contains("plus")?t.stepUp():e.target.classList.contains("minus")&&t.stepDown()}}))}))}function bricksWooProductsFilter(){bricksQuerySelectorAll(document,".brxe-woocommerce-products-filter .filter-item").forEach((function(e){function t(e){e.target.closest("form").submit()}function r(e){e.target.closest(".filter-item").classList.toggle("open")}bricksQuerySelectorAll(e,".dropdown").forEach((function(e){e.addEventListener("change",t)})),bricksQuerySelectorAll(e,'input[type="radio"], input[type="checkbox"]').forEach((function(e){e.addEventListener("change",t),e.addEventListener("click",t)})),bricksQuerySelectorAll(e,".double-slider-wrap").forEach((function(e){bricksWooProductsFilterInitSlider(e)})),bricksQuerySelectorAll(e,".title").forEach((function(e){e.onclick=r}))}))}function bricksWooMiniModals(){document.querySelectorAll(".bricks-woo-toggle").forEach((function(e){e.addEventListener("click",bricksWooMiniModalsToggle)}))}function bricksWooProductsFilterInitSlider(e){var t=e.querySelector("input.lower"),r=e.querySelector("input.upper");t.oninput=bricksWooProductsFilterUpdateSliderValue,r.oninput=bricksWooProductsFilterUpdateSliderValue;var o=parseInt(t.value),i=parseInt(r.value);bricksWooProductsFilterRenderSliderValues(t.parentNode,o,i),t.addEventListener("change",(function(){e.closest("form").submit()})),r.addEventListener("change",(function(){e.closest("form").submit()}))}function bricksWooProductsFilterUpdateSliderValue(e){var t=e.target.parentNode,r=t.querySelector("input.lower"),o=t.querySelector("input.upper"),i=parseInt(r.value),c=parseInt(o.value);c<i+4&&(r.value=c-4,o.value=i+4,i==r.min&&(o.value=4),c==o.max&&(r.value=parseInt(o.max)-4)),bricksWooProductsFilterRenderSliderValues(t,i,c)}function bricksWooProductsFilterRenderSliderValues(e,t,r){var o=e.getAttribute("data-currency"),i=e.querySelector("label.lower"),c=e.querySelector("label.upper"),n=e.querySelector(".value.lower"),a=e.querySelector(".value.upper");n.innerText=i.innerText+": "+o+t,a.innerText=c.innerText+": "+o+r}document.addEventListener("DOMContentLoaded",(function(e){bricksWooProductsFilter(),bricksWooMiniModals(),bricksWooQuantityTriggers(),bricksWooMiniCartHideDetailsClickOutside(),jQuery(document.body).on("updated_cart_totals",(function(){bricksWooQuantityTriggers(),bricksLazyLoad()}))}));
